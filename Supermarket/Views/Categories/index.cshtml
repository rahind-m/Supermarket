@model List<Category>
@section title {
  
    <h3>Categories</h3>
}
 
@if (Model != null && Model.Count() >0){

    <table class="table table-striped">
      <thead>
        <tr>
           <th>Name</th>
           <th>Description</th> 
           <th></th>
        </tr>
      </thead>
      <tbody>
          @foreach (var category in Model){ 
            <tr>
                <td>@category.Name</td>
                <td>@category.Description</td>
                 <td> <a class = "btn btn-link" asp-controller="categories" asp-action="edit" asp-route-id =@category.CategoryId
                  asp-route-name =@category.Name asp-route-description =@category.Description
                  > Edit</a></td>
                  <td>                  
                  <form asp-action="Delete" asp-route-id="@category.CategoryId" >
                        <button type ="submit" class ="btn btn-link" 
                        onclick="return confirmDelete()">Delete
                        </button>
                  </form>
                  </td>
              </tr>
          }
      </tbody>
    </table>

        <div class="row mb-3">
            <div class="col-2">
               <a class = "btn btn-primary" asp-controller="categories" asp-action="add">Add</a>
            </div>
        </div>
}

@section Scripts{
  <script>
    function confirmDelete(){
      return confirm("Are you sure you want to delete this category?")
    }
  </script>
}
